!function(e,d){"use strict";var c;function r(e){for(var t=["sq","ar","eu","be","bg","ca","zh","zh_cn","zh_hk","zh_tw","hr","cs","da","nl","nl_nl","en","en_gb","en_us","et","fa","fi","fr","fr_ca","fr_fr","gl","de","de_de","el","el_gr","he","hi","hu","is","id","it","it_it","ja","ko","ko_kr","lv","lt","mk","ms","nb","pl","pt","pt_br","pt_pt","ro","ro_ro","ru","ru_ru","sr","sk","sl","es","es_mx","es_es","sv","sv_se","th","tr","tr_tr","uk","ur","ur_pk","vi"],_=0,o=t.length;_<o;_++)if(t[_]===e)return"&hl="+e;return null}function p(e,t){var _={isSmallViewTop:e.hasClass("is-smallViewTop")};$.templates("movieWrapperTmpl",l),$.templates("textWrapperTmpl",s),$.templates("contentsWrapper",i);var o=$.render.contentsWrapper(_);e.children(".g-YouTubeVideo__inner").html(o),c&&b(e)}function b(e){e.find(".g-YouTubeVideo__error").show()}$(document).ready(function(){c=$.fn.isAuthorring();var e=$(".js-YouTubeVideo");if(e[0]){for(var t=$("#area-Contents").attr("data-yt-key"),_=[],o=function(s,e){var t=new $.Deferred;$.getJSON(e,null).done(function(e){if(0===e.items.length)s.find(".g-YouTubeVideo__inner").hide(),b(s);else{var t=(_=s,o={},i=e.items[0],l=_.data("date-format"),o.videoURL=_.data("video-url"),o.channelURL=_.data("channel-url"),o.linkLabel=_.data("link-label"),o.videoId=i.id,o.date=moment(i.snippet.publishedAt,"YYYY-MM-DD hh:mm:ss").format(l),o.title=i.snippet.localized.title,o.description=$.fn.replaceLink(i.snippet.localized.description,"_blank"),o.viewCount=String(i.statistics.viewCount).replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1,"),o);!function(e,t){var _=e.find(".g-YouTubeVideo__textBlock");$.templates("descriptionTmpl",m);var o=$.render.descriptionTmpl(t);if(_.html(o),s=e,n=s.find(".js-youtubeModal"),a=encodeURI(s.data("video-url")),u=encodeURI(s.find(".g-YouTubeVideo__textBlock__title__link").text()),n.on("click",function(){var e={url:a,title:u};!function(e){$.templates("ytShareModal",k);var t=$.render.ytShareModal(e);d.Overlay.show(t)}(e)}),void 0!==t.channelURL){$.templates("visitTmpl",v);var i=$.render.visitTmpl(t),l=e.find(".g-YouTubeVideo__contentsBlock");l.append(i)}var s,n,a,u}(s,t)}var _,o,i,l}).fail(function(e){s.find(".g-YouTubeVideo__inner").hide(),b(s)}).always(function(){t.resolve()}),d.onloadAsyncDOM(t.promise())},i=0,l=e.length;i<l;i++){var s=e.eq(i),n=r($("html").attr("lang").split("-")[0]),a=(s.data("video-url")||"").split("?v=")[1],u="https://www.googleapis.com/youtube/v3/videos?id="+a+"&key="+t+"&fields=items(id,snippet(publishedAt,localized),statistics(viewCount))&part=snippet,statistics";null!=n&&(u+=n),p(s,a),o(s,u),_.push(a)}d.loadPlayer(_)}});var i='<div class="g-YouTubeVideoUnit l-YouTubeVideoUnit"><div class="g-YouTubeVideo__contentsBlock l-YouTubeVideo__contentsBlock">{{if isSmallViewTop}}{{include tmpl="movieWrapperTmpl"/}}{{include tmpl="textWrapperTmpl"/}}{{else}}{{include tmpl="textWrapperTmpl"/}}{{include tmpl="movieWrapperTmpl"/}}{{/if}}</div></div>',l='<div class="g-YouTubeVideo__movieBlock l-YouTubeVideo__movieBlock"><div class="g-YouTubeVideo__movieBlock__outer l-YouTubeVideo__movieBlock__outer"><div class="g-YouTubeVideo__movieBlock__inner l-YouTubeVideo__movieBlock__inner"></div></div></div>',s='<div class="g-YouTubeVideo__textBlock l-YouTubeVideo__textBlock"></div>',m='<div class="g-YouTubeVideo__textBlock__date l-YouTubeVideo__textBlock__date">{{:date}}</div><h2 class="g-YouTubeVideo__textBlock__title l-YouTubeVideo__textBlock__title"><a href="{{:videoURL}}" class="g-YouTubeVideo__textBlock__title__link l-YouTubeVideo__textBlock__title__link" target="_blank">{{:title}}</a></h2>{{if description !== undefined}}<div class="g-YouTubeVideo__textBlock__description l-YouTubeVideo__textBlock__description"><p class="g-YouTubeVideo__textBlock__description__text l-YouTubeVideo__textBlock__description__text">{{:description}}</p></div>{{/if}}<div class="g-YouTubeVideo__textBlock__list__wrapper l-YouTubeVideo__textBlock__list__wrapper"><ul class="g-YouTubeVideo__textBlock__list l-YouTubeVideo__textBlock__list"><li class="g-YouTubeVideo__textBlock__listItem l-YouTubeVideo__textBlock__listItem g-YouTubeVideo__textBlock__listItem--viewCount l-YouTubeVideo__textBlock__listItem--viewCount"><span class="g-YouTubeVideo__textBlock__listItem__label l-YouTubeVideo__textBlock__listItem__label">{{:viewCount}} views</span></li><li class="g-YouTubeVideo__textBlock__listItem l-YouTubeVideo__textBlock__listItem g-YouTubeVideo__textBlock__listItem--share l-YouTubeVideo__textBlock__listItem--share"><a href="javascript:void(0);" class="g-YouTubeVideo__textBlock__listItem__link l-YouTubeVideo__textBlock__listItem__link js-modalTrigger js-youtubeModal"><span class="cmn-icon cmn-icon--share g-YouTubeVideo__textBlock__listItem__icon l-YouTubeVideo__textBlock__listItem__icon"></span><span class="g-YouTubeVideo__textBlock__listItem__label l-YouTubeVideo__listItem__label">Share</span></a></li></ul></div>{{if channelURL !== undefined}}<div class="g-YouTubeVideo__textBlock__visit l-YouTubeVideo__textBlock__visit opt-hide-md opt-hide-sm"><a href="{{:channelURL}}" target="_blank" class="g-YouTubeVideo__textBlock__visit__link l-YouTubeVideo__textBlock__visit__link"><span class="cmn-icon cmn-icon--window g-YouTubeVideo__textBlock__visit__icon l-YouTubeVideo__textBlock__visit__icon"></span><span class="g-YouTubeVideo__textBlock__visit__label l-YouTubeVideo__textBlock__visit__label">{{:linkLabel}}</span></a></div>{{/if}}</div>',v='<div class="g-YouTubeVideo__textBlock__visit l-YouTubeVideo__textBlock__visit opt-hide-lg"><a href="{{:channelURL}}" target="_blank" class="g-YouTubeVideo__textBlock__visit__link l-YouTubeVideo__textBlock__visit__link"><span class="cmn-icon cmn-icon--window g-YouTubeVideo__textBlock__visit__icon l-YouTubeVideo__textBlock__visit__icon"></span><span class="g-YouTubeVideo__textBlock__visit__label l-YouTubeVideo__textBlock__visit__label">{{:linkLabel}}</span></a></div>',k='<div class="g-modal__contents l-modal__contents g-modal--share l-modal--share"><h2 class="g-modal__contents__title l-modal__contents__title">Share</h2><ul class="g-modal__contents__shareList"><li class="g-modal__contents__shareList__item l-modal__contents__shareList__item"><input type="text" name="youtube-url" value="{{:url}}" class="g-modal__contents__shareList__input l-modal__contents__shareList__input"></li><li class="g-modal__contents__shareList__item l-modal__contents__shareList__item"><a href="http://www.facebook.com/share.php?u={{:url}}" onclick="window.open(this.href, \'FBwindow\', \'width=650, height=450, menubar=no, toolbar=no, scrollbars=yes\'); return false;" class="g-modal__contents__button l-modal__contents__button"><span>Facebook</span></a></li><li class="g-modal__contents__shareItems l-modal__contents__shareItems"><a href="http://twitter.com/share?url={{:url}}&text={{:title}}" onclick="window.open(this.href, \'TWwindow\', \'width=650, height=450, menubar=no, toolbar=no, scrollbars=yes\'); return false;" class="g-modal__contents__button l-modal__contents__button"><span>Twitter</span></a></li></ul></div>'}(window,window.kaoAPI||(window.kaoAPI={}));